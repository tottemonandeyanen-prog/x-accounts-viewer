<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>Account Page</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/styles.css" />
  <style>
    body { margin:0; padding:24px; font-family:system-ui,-apple-system,Segoe UI,Roboto; }
    #profile-header, .post { width: 900px; margin: 0 auto 24px; border: 1px solid #ddd; padding: 16px; box-sizing: border-box; }
  </style>
</head>
<body>
    <!-- プロフィール塊（アバター / 名前 / ID / 自己紹介 / フォロワー・フォロー中・投稿数 など） -->
    <section id="profile-header" style="contain: layout; isolation: isolate;">
    <div class="profile-row">
        <img class="avatar" src="..." alt="">
        <div class="meta">
        <div class="name">@KAGOME_JP</div>
        <div class="counts">
            <span data-testid="followers">フォロワー 12.3万</span>
            <span data-testid="following">フォロー中 123</span>
            <span data-testid="posts">投稿 3,456</span>
        </div>
        <p class="bio">……自己紹介……</p>
        </div>
    </div>
    </section>

    <!-- 直近3ポストのカード -->
    <section id="post-1" class="post-card">…</section>
    <section id="post-2" class="post-card">…</section>
    <section id="post-3" class="post-card">…</section>


  <script>
    // ← ここがポイント：?handle=@xxx から取得
    const params = new URLSearchParams(location.search);
    const handle = params.get("handle") || "@unknown";

    document.querySelector('#profile-header').textContent = `${handle} のプロフィール`;
    document.querySelector('#post-1').textContent = '最新ポスト1';
    document.querySelector('#post-2').textContent = '最新ポスト2';
    document.querySelector('#post-3').textContent = '最新ポスト3';

    // Playwright 用：描画完了マーカー
    window.addEventListener("load", () => {
      document.body.setAttribute("data-ready", "1");
    });
  </script>
</body>
</html>
